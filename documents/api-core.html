<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Core API Reference - Ownaudio</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">
    <link rel="stylesheet" href="docs.css">
</head>

<body>
    <nav class="nav">
        <div class="nav-container">
            <a href="../index.html" class="logo">OwnaudioSharp</a>
            <ul class="nav-links">
                <li><a href="quickstart.html">Quick Start</a></li>
                <li><a href="api-core.html" class="active">Core API</a></li>
                <li><a href="api-net.html">NET API</a></li>
                <li><a href="examples.html">Examples</a></li>
                <li><a href="effects.html">Effects</a></li>
                <li><a href="networksync.html">Net Sync</a></li>
                <li><a href="matchering.html">Mastering</a></li>
                <li><a href="vocalremover.html">Vocal Sep</a></li>
                <li><a href="chorddetect.html">Chords</a></li>
                <li><a href="https://github.com/ModernMube/OwnAudioSharp" target="_blank">GitHub</a></li>
            </ul>
        </div>
    </nav>

    <div class="main">
        <aside class="sidebar">
            <h3>Core API</h3>
            <ul class="sidebar-nav">
                <li><a href="#overview" class="active">Overview</a></li>
                <li><a href="#getting-started">Getting Started</a></li>
                <li><a href="#interfaces">Interfaces</a></li>
                <li><a href="#factories">Factories</a></li>
                <li><a href="#configuration">Configuration</a></li>
                <li><a href="#enums">Enumerations</a></li>
                <li><a href="#common">Common Components</a></li>
            </ul>
        </aside>

        <main class="content">
            <h1><span class="badge badge-core">Core</span> Ownaudio.Core API Reference</h1>
            <p>
                Low-level cross-platform audio engine providing real-time audio playback and recording with native
                performance.
            </p>

            <div class="alert alert-info">
                <strong>üöÄ Native Engine (Default)</strong>
                The native C++ engine is the default, providing GC-free, glitch-free audio processing. Uses
                PortAudio (if installed) or embedded miniaudio fallback. Managed C# engines are available for
                development/testing.
            </div>

            <h2 id="overview">Overview</h2>
            <p>Ownaudio.Core is the foundation for cross-platform audio applications:</p>
            <ul>
                <li><strong>Native C++ engine (default)</strong> - GC-free, deterministic real-time audio</li>
                <li><strong>Managed C# engines (optional)</strong> - Pure C# implementations for testing/development
                </li>
                <li><strong>Platform-native APIs</strong> - WASAPI (Windows), Core Audio (macOS/iOS), PulseAudio
                    (Linux), AAudio (Android)</li>
                <li><strong>Built-in decoders</strong> - WAV, MP3, and FLAC support</li>
                <li><strong>Device management</strong> - Hot-plug support and device enumeration</li>
                <li><strong>Automatic format conversion</strong> - Sample rate and channel conversion</li>
            </ul>

            <h3>Supported Platforms</h3>
            <table class="api-table">
                <thead>
                    <tr>
                        <th>Platform</th>
                        <th>Native API</th>
                        <th>Assembly</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Windows</td>
                        <td>WASAPI</td>
                        <td>Ownaudio.Windows</td>
                    </tr>
                    <tr>
                        <td>macOS</td>
                        <td>Core Audio</td>
                        <td>Ownaudio.macOS</td>
                    </tr>
                    <tr>
                        <td>Linux</td>
                        <td>PulseAudio</td>
                        <td>Ownaudio.Linux</td>
                    </tr>
                    <tr>
                        <td>iOS</td>
                        <td>Core Audio</td>
                        <td>Ownaudio.iOS</td>
                    </tr>
                    <tr>
                        <td>Android</td>
                        <td>AAudio</td>
                        <td>Ownaudio.Android</td>
                    </tr>
                </tbody>
            </table>

            <h2 id="getting-started">Getting Started</h2>
            <p>Quick example to get you started with Ownaudio.Core:</p>

            <div class="code-block">
                <div class="code-header">Basic Usage Example</div>
                <pre><code class="language-csharp">using Ownaudio.Core;
using Ownaudio.Decoders;

// Create and initialize engine
using var engine = AudioEngineFactory.CreateDefault();

// Start the engine
engine.Start();

// Load and decode audio file
using var decoder = AudioDecoderFactory.Create(
    "music.mp3",
    targetSampleRate: 48000,
    targetChannels: 2
);

// Read and play audio
var buffer = new byte[4096 * 2 * sizeof(float)];
while (true)
{
    var result = decoder.ReadFrames(buffer);
    if (result.IsEOF) break;
    
    if (result.FramesRead > 0)
    {
        int bytesRead = result.FramesRead * 2 * sizeof(float);
        var samples = System.Runtime.InteropServices.MemoryMarshal
            .Cast<byte, float>(buffer.AsSpan(0, bytesRead));
        engine.Send(samples);
    }
}

// Stop the engine
engine.Stop();</code></pre>
            </div>

            <h2 id="interfaces">Interfaces</h2>

            <h3>IAudioEngine</h3>
            <p>Platform-independent audio engine interface for real-time playback and recording.</p>

            <div class="code-block">
                <div class="code-header">IAudioEngine Interface</div>
                <pre><code class="language-csharp">public interface IAudioEngine : IDisposable
{
    // Properties
    int FramesPerBuffer { get; }
    
    // Lifecycle
    int Initialize(AudioConfig config);
    int Start();
    int Stop();
    int OwnAudioEngineActivate();
    int OwnAudioEngineStopped();
    
    // Audio I/O
    void Send(Span<float> samples);
    int Receives(out float[] samples);
    IntPtr GetStream();
    
    // Device Management
    List<AudioDeviceInfo> GetOutputDevices();
    List<AudioDeviceInfo> GetInputDevices();
    int SetOutputDeviceByName(string deviceName);
    int SetOutputDeviceByIndex(int deviceIndex);
    int SetInputDeviceByName(string deviceName);
    int SetInputDeviceByIndex(int deviceIndex);
    
    // Events
    event EventHandler<AudioDeviceChangedEventArgs> OutputDeviceChanged;
    event EventHandler<AudioDeviceChangedEventArgs> InputDeviceChanged;
    event EventHandler<AudioDeviceStateChangedEventArgs> DeviceStateChanged;
}</code></pre>
            </div>

            <h4>Key Methods</h4>
            <table class="api-table">
                <thead>
                    <tr>
                        <th>Method</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>Initialize(AudioConfig)</code></td>
                        <td>Initialize engine with configuration. Returns 0 on success.</td>
                    </tr>
                    <tr>
                        <td><code>Start()</code></td>
                        <td>Start audio engine (thread-safe, idempotent).</td>
                    </tr>
                    <tr>
                        <td><code>Stop()</code></td>
                        <td>Stop audio engine gracefully (thread-safe, idempotent).</td>
                    </tr>
                    <tr>
                        <td><code>Send(Span&lt;float&gt;)</code></td>
                        <td>Send audio samples to output (blocking, zero-allocation).</td>
                    </tr>
                    <tr>
                        <td><code>Receives(out float[])</code></td>
                        <td>Receive audio samples from input (uses pooled buffers).</td>
                    </tr>
                </tbody>
            </table>

            <h3>IAudioDecoder</h3>
            <p>Audio file decoder interface for WAV, MP3, and FLAC formats.</p>

            <div class="code-block">
                <div class="code-header">IAudioDecoder Interface</div>
                <pre><code class="language-csharp">public interface IAudioDecoder : IDisposable
{
    AudioStreamInfo StreamInfo { get; }
    
    // Zero-allocation reading (recommended)
    AudioDecoderResult ReadFrames(byte[] buffer);
    
    // Seeking
    bool TrySeek(TimeSpan position, out string error);
}</code></pre>
            </div>

            <h4>Usage Example</h4>
            <div class="code-block">
                <div class="code-header">Zero-Allocation Decoder Usage</div>
                <pre><code class="language-csharp">// Create decoder
using var decoder = AudioDecoderFactory.Create(
    "music.mp3",
    targetSampleRate: 48000,
    targetChannels: 2
);

var info = decoder.StreamInfo;
Console.WriteLine($"Duration: {info.Duration}");
Console.WriteLine($"Sample Rate: {info.SampleRate} Hz");
Console.WriteLine($"Channels: {info.Channels}");

// Create reusable buffer
int bufferSize = 4096 * info.Channels * sizeof(float);
var buffer = new byte[bufferSize];

// Decode frames efficiently
while (true)
{
    var result = decoder.ReadFrames(buffer);
    if (result.IsEOF) break;
    
    if (result.FramesRead > 0)
    {
        int bytesRead = result.FramesRead * info.Channels * sizeof(float);
        var samples = System.Runtime.InteropServices.MemoryMarshal
            .Cast<byte, float>(buffer.AsSpan(0, bytesRead));
        
        // Process audio samples
        ProcessAudio(samples);
    }
}</code></pre>
            </div>

            <h2 id="factories">Factory Classes</h2>

            <h3>AudioEngineFactory</h3>
            <p>Creates platform-specific audio engine instances with automatic platform detection.</p>

            <table class="api-table">
                <thead>
                    <tr>
                        <th>Method</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>Create(AudioConfig)</code></td>
                        <td>Create engine with custom configuration</td>
                    </tr>
                    <tr>
                        <td><code>CreateDefault()</code></td>
                        <td>Create with default settings (48kHz, stereo, 512 frames)</td>
                    </tr>
                    <tr>
                        <td><code>CreateLowLatency()</code></td>
                        <td>Create with low latency settings (128 frames)</td>
                    </tr>
                    <tr>
                        <td><code>CreateHighLatency()</code></td>
                        <td>Create with high latency settings (2048 frames)</td>
                    </tr>
                </tbody>
            </table>

            <div class="code-block">
                <div class="code-header">Factory Usage</div>
                <pre><code class="language-csharp">// Default configuration
using var engine1 = AudioEngineFactory.CreateDefault();

// Low latency
using var engine2 = AudioEngineFactory.CreateLowLatency();

// Custom configuration
var config = new AudioConfig
{
    SampleRate = 44100,
    Channels = 2,
    BufferSize = 256,
    EnableInput = true
};
using var engine3 = AudioEngineFactory.Create(config);</code></pre>
            </div>

            <h3>AudioDecoderFactory</h3>
            <p>Creates audio decoders with automatic format detection from file extension or header.</p>

            <table class="api-table">
                <thead>
                    <tr>
                        <th>Method</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>Create(string, int, int)</code></td>
                        <td>Create decoder from file path (auto-detects format)</td>
                    </tr>
                    <tr>
                        <td><code>Create(Stream, AudioFormat, int, int)</code></td>
                        <td>Create decoder from stream with specified format</td>
                    </tr>
                    <tr>
                        <td><code>DetectFormat(Stream)</code></td>
                        <td>Detect audio format from stream header (magic bytes)</td>
                    </tr>
                </tbody>
            </table>

            <h4>Supported Formats</h4>
            <table class="api-table">
                <thead>
                    <tr>
                        <th>Format</th>
                        <th>Types</th>
                        <th>Implementation</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>WAV</td>
                        <td>PCM, IEEE Float, ADPCM</td>
                        <td>Pure C# implementation</td>
                    </tr>
                    <tr>
                        <td>MP3</td>
                        <td>MPEG-1/2 Layer III</td>
                        <td>Platform-specific or managed fallback</td>
                    </tr>
                    <tr>
                        <td>FLAC</td>
                        <td>Free Lossless Audio Codec</td>
                        <td>Pure C# managed implementation</td>
                    </tr>
                </tbody>
            </table>

            <div class="code-block">
                <div class="code-header">Decoder Factory Usage</div>
                <pre><code class="language-csharp">// From file path (auto-detect format)
using var decoder1 = AudioDecoderFactory.Create(
    "music.mp3",
    targetSampleRate: 48000,
    targetChannels: 2
);

// From stream with explicit format
using var stream = File.OpenRead("audio.wav");
using var decoder2 = AudioDecoderFactory.Create(
    stream,
    AudioFormat.Wav,
    targetSampleRate: 48000,
    targetChannels: 2
);

// Detect format
using var fileStream = File.OpenRead("unknown.audio");
var format = AudioDecoderFactory.DetectFormat(fileStream);
Console.WriteLine($"Detected format: {format}");</code></pre>
            </div>

            <h2 id="configuration">Configuration</h2>

            <h3>AudioConfig</h3>
            <p>Audio engine configuration parameters.</p>

            <table class="api-table">
                <thead>
                    <tr>
                        <th>Property</th>
                        <th>Type</th>
                        <th>Default</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>SampleRate</code></td>
                        <td>int</td>
                        <td>48000</td>
                        <td>Sample rate in Hz (typical: 44100, 48000, 96000)</td>
                    </tr>
                    <tr>
                        <td><code>Channels</code></td>
                        <td>int</td>
                        <td>2</td>
                        <td>Number of channels (1=mono, 2=stereo)</td>
                    </tr>
                    <tr>
                        <td><code>BufferSize</code></td>
                        <td>int</td>
                        <td>512</td>
                        <td>Buffer size in frames (affects latency)</td>
                    </tr>
                    <tr>
                        <td><code>EnableInput</code></td>
                        <td>bool</td>
                        <td>false</td>
                        <td>Enable audio input/recording</td>
                    </tr>
                    <tr>
                        <td><code>EnableOutput</code></td>
                        <td>bool</td>
                        <td>true</td>
                        <td>Enable audio output/playback</td>
                    </tr>
                    <tr>
                        <td><code>OutputDeviceId</code></td>
                        <td>string?</td>
                        <td>null</td>
                        <td>Specific output device ID (null for default)</td>
                    </tr>
                    <tr>
                        <td><code>InputDeviceId</code></td>
                        <td>string?</td>
                        <td>null</td>
                        <td>Specific input device ID (null for default)</td>
                    </tr>
                    <tr>
                        <td><code>HostType</code></td>
                        <td>EngineHostType</td>
                        <td>None</td>
                        <td>Host API type (PortAudio only, ignored by miniaudio)</td>
                    </tr>
                </tbody>
            </table>

            <h4>Predefined Configurations</h4>
            <ul>
                <li><code>AudioConfig.Default</code> - 48kHz, stereo, 512 frames (~10.7ms latency)</li>
                <li><code>AudioConfig.LowLatency</code> - 48kHz, stereo, 128 frames (~2.7ms latency)</li>
                <li><code>AudioConfig.HighLatency</code> - 48kHz, stereo, 2048 frames (~42.7ms latency)</li>
            </ul>

            <div class="code-block">
                <div class="code-header">Configuration Example</div>
                <pre><code class="language-csharp">// Use predefined config
var config1 = AudioConfig.Default;

// Custom configuration
var config2 = new AudioConfig
{
    SampleRate = 44100,
    Channels = 1,           // Mono
    BufferSize = 256,       // Low latency
    EnableInput = true,
    EnableOutput = true
};

// Validate configuration
if (config2.Validate())
{
    Console.WriteLine("Configuration is valid");
}</code></pre>
            </div>

            <h3>AudioDeviceInfo</h3>
            <p>Information about an audio device.</p>

            <table class="api-table">
                <thead>
                    <tr>
                        <th>Property</th>
                        <th>Type</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>DeviceId</code></td>
                        <td>string</td>
                        <td>Unique device identifier</td>
                    </tr>
                    <tr>
                        <td><code>Name</code></td>
                        <td>string</td>
                        <td>Human-readable device name</td>
                    </tr>
                    <tr>
                        <td><code>IsInput</code></td>
                        <td>bool</td>
                        <td>True if device supports input</td>
                    </tr>
                    <tr>
                        <td><code>IsOutput</code></td>
                        <td>bool</td>
                        <td>True if device supports output</td>
                    </tr>
                    <tr>
                        <td><code>IsDefault</code></td>
                        <td>bool</td>
                        <td>True if this is the default device</td>
                    </tr>
                    <tr>
                        <td><code>State</code></td>
                        <td>AudioDeviceState</td>
                        <td>Current device state</td>
                    </tr>
                </tbody>
            </table>

            <div class="code-block">
                <div class="code-header">Device Enumeration</div>
                <pre><code class="language-csharp">using var engine = AudioEngineFactory.CreateDefault();

// List output devices
var devices = engine.GetOutputDevices();
foreach (var device in devices)
{
    Console.WriteLine($"Device: {device.Name}");
    Console.WriteLine($"  ID: {device.DeviceId}");
    Console.WriteLine($"  Default: {device.IsDefault}");
    Console.WriteLine($"  State: {device.State}");
}</code></pre>
            </div>

            <h3>AudioStreamInfo</h3>
            <p>Information about an audio stream from a decoder.</p>

            <table class="api-table">
                <thead>
                    <tr>
                        <th>Property</th>
                        <th>Type</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>SampleRate</code></td>
                        <td>int</td>
                        <td>Sample rate in Hz</td>
                    </tr>
                    <tr>
                        <td><code>Channels</code></td>
                        <td>int</td>
                        <td>Number of channels</td>
                    </tr>
                    <tr>
                        <td><code>Duration</code></td>
                        <td>TimeSpan</td>
                        <td>Total duration of the stream</td>
                    </tr>
                    <tr>
                        <td><code>TotalFrames</code></td>
                        <td>long</td>
                        <td>Total number of frames</td>
                    </tr>
                </tbody>
            </table>

            <h2 id="enums">Enumerations</h2>

            <h3>AudioDeviceState</h3>
            <p>Possible states of an audio device.</p>

            <div class="code-block">
                <div class="code-header">AudioDeviceState Enum</div>
                <pre><code class="language-csharp">[Flags]
public enum AudioDeviceState
{
    Active      = 0x00000001,  // Device is active and available
    Disabled    = 0x00000002,  // Device is disabled
    NotPresent  = 0x00000004,  // Device is not present
    Unplugged   = 0x00000008,  // Device is unplugged
    All         = 0x0000000F   // All device states
}</code></pre>
            </div>

            <h3>AudioFormat</h3>
            <p>Supported audio file formats.</p>

            <div class="code-block">
                <div class="code-header">AudioFormat Enum</div>
                <pre><code class="language-csharp">public enum AudioFormat
{
    Unknown,  // Unknown format
    Wav,      // WAV format (PCM, IEEE Float, ADPCM)
    Mp3,      // MP3 format (MPEG-1/2/2.5 Layer III)
    Flac      // FLAC format (Free Lossless Audio Codec)
}</code></pre>
            </div>

            <h3>EngineHostType</h3>
            <p>Host API types for PortAudio backend (ignored by miniaudio).</p>

            <div class="code-block">
                <div class="code-header">EngineHostType Enum</div>
                <pre><code class="language-csharp">public enum EngineHostType
{
    None = 0,           // Use platform default
    DirectSound = 1,    // Windows DirectSound
    MME = 2,            // Windows MME
    ASIO = 3,           // Windows ASIO
    WASAPI = 13,        // Windows WASAPI (recommended)
    CoreAudio = 5,      // macOS Core Audio
    ALSA = 8,           // Linux ALSA
    JACK = 12           // Linux JACK
}</code></pre>
            </div>

            <h2 id="common">Common Components</h2>

            <p>The <code>Ownaudio.Core.Common</code> namespace provides utility classes for audio processing:</p>

            <table class="api-table">
                <thead>
                    <tr>
                        <th>Class</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>AudioBuffer</code></td>
                        <td>Efficient audio buffer management</td>
                    </tr>
                    <tr>
                        <td><code>AudioChannelConverter</code></td>
                        <td>Channel conversion (mono/stereo)</td>
                    </tr>
                    <tr>
                        <td><code>AudioResampler</code></td>
                        <td>Sample rate conversion</td>
                    </tr>
                    <tr>
                        <td><code>AudioFormatConverter</code></td>
                        <td>Format conversion utilities</td>
                    </tr>
                    <tr>
                        <td><code>LockFreeRingBuffer</code></td>
                        <td>Lock-free circular buffer for real-time audio</td>
                    </tr>
                    <tr>
                        <td><code>AudioFramePool</code></td>
                        <td>Object pool for audio frames</td>
                    </tr>
                    <tr>
                        <td><code>SimdAudioConverter</code></td>
                        <td>SIMD-optimized audio conversion</td>
                    </tr>
                    <tr>
                        <td><code>DecodedAudioCache</code></td>
                        <td>Cache for decoded audio data</td>
                    </tr>
                </tbody>
            </table>

            <div class="alert alert-info" style="margin-top: 2rem;">
                <strong>Performance Characteristics</strong>
                <ul style="margin-top: 0.5rem;">
                    <li><strong>Zero-allocation:</strong> Critical audio paths use zero-allocation techniques</li>
                    <li><strong>Lock-free:</strong> Real-time safe data structures for thread synchronization</li>
                    <li><strong>SIMD optimizations:</strong> Available on supported platforms</li>
                    <li><strong>Thread-safe:</strong> All public APIs are thread-safe</li>
                </ul>
            </div>

            <h3>Latency Reference</h3>
            <table class="api-table">
                <thead>
                    <tr>
                        <th>Buffer Size</th>
                        <th>Latency @ 48kHz</th>
                        <th>Use Case</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>128 frames</td>
                        <td>~2.7 ms</td>
                        <td>Professional audio, live monitoring</td>
                    </tr>
                    <tr>
                        <td>256 frames</td>
                        <td>~5.3 ms</td>
                        <td>Low latency applications</td>
                    </tr>
                    <tr>
                        <td>512 frames</td>
                        <td>~10.7 ms</td>
                        <td>Default, balanced performance</td>
                    </tr>
                    <tr>
                        <td>1024 frames</td>
                        <td>~21.3 ms</td>
                        <td>Standard applications</td>
                    </tr>
                    <tr>
                        <td>2048 frames</td>
                        <td>~42.7 ms</td>
                        <td>High reliability, less CPU usage</td>
                    </tr>
                </tbody>
            </table>

            <div style="margin-top: 4rem; padding: 2rem; background: var(--surface); border-radius: 8px;">
                <h3>Related Documentation</h3>
                <ul style="list-style: none; padding: 0;">
                    <li style="margin-bottom: 0.5rem;">
                        <a href="quickstart.html" style="color: var(--primary-color);">üìñ Quick Start Guide</a>
                    </li>
                    <li style="margin-bottom: 0.5rem;">
                        <a href="api-net.html" style="color: var(--net-color);">üéõÔ∏è NET API Reference</a>
                    </li>
                    <li style="margin-bottom: 0.5rem;">
                        <a href="examples.html" style="color: var(--primary-color);">üí° Code Examples</a>
                    </li>
                    <li style="margin-bottom: 0.5rem;">
                        <a href="https://github.com/ModernMube/OwnAudioSharp" target="_blank"
                            style="color: var(--primary-color);">üîó GitHub Repository</a>
                    </li>
                </ul>
            </div>
        </main>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script
        src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script>
        // Active sidebar navigation
        const sections = document.querySelectorAll('h2[id], h3[id]');
        const navLinks = document.querySelectorAll('.sidebar-nav a');

        window.addEventListener('scroll', () => {
            let current = '';
            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                if (window.pageYOffset >= sectionTop - 150) {
                    current = section.getAttribute('id');
                }
            });

            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === `#${current}`) {
                    link.classList.add('active');
                }
            });
        });

        // Smooth scrolling
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });
    </script>
</body>

</html>
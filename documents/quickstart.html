<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-93P1X5V4Z5"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-93P1X5V4Z5');
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quick Start - Ownaudio</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">
    <link rel="stylesheet" href="docs.css">
</head>

<body>
    <nav class="nav">
        <div class="nav-container">
            <a href="../index.html" class="logo">OwnaudioSharp</a>
            <ul class="nav-links">
                <li><a href="quickstart.html" class="active">Quick Start</a></li>
                <li><a href="api-core.html">Core API</a></li>
                <li><a href="api-net.html">NET API</a></li>
                <li><a href="examples.html">Examples</a></li>
                <li><a href="effects.html">Effects</a></li>
                <li><a href="networksync.html">Net Sync</a></li>
                <li><a href="matchering.html">Mastering</a></li>
                <li><a href="vocalremover.html">Vocal Sep</a></li>
                <li><a href="chorddetect.html">Chords</a></li>
                <li><a href="https://github.com/ModernMube/OwnAudioSharp" target="_blank">GitHub</a></li>
            </ul>
        </div>
    </nav>

    <div class="main">
        <aside class="sidebar">
            <h3>Quick Start Guide</h3>
            <ul class="sidebar-nav">
                <li><a href="#introduction" class="active">Introduction</a></li>
                <li><a href="#installation">Installation</a></li>
                <li><a href="#core-usage">Core Usage</a></li>
                <li><a href="#net-usage">NET Usage</a></li>
                <li><a href="#platform-setup">Platform Setup</a></li>
                <li><a href="#next-steps">Next Steps</a></li>
            </ul>
        </aside>

        <main class="content">
            <h1>Quick Start Guide</h1>
            <p>Get up and running with Ownaudio in minutes. Choose between the low-level Core API for maximum control or
                the high-level NET API for rapid development.</p>

            <h2 id="introduction">Introduction</h2>

            <div class="alert alert-warning">
                <strong>üöÄ Native Engine - GC-Free Audio!</strong>
                Ownaudio now uses a high-performance C++ native engine by default, eliminating GC pauses for glitch-free
                audio.
                Despite our best efforts with managed code, the .NET Garbage Collector proved insurmountable for
                professional
                real-time audio. The native engine is now the default, but managed C# engines remain available for
                testing/development.
            </div>

            <div class="alert alert-info">
                <strong>Zero External Dependencies</strong>
                Ownaudio uses native system audio APIs - no external libraries required!
            </div>

            <div class="feature-grid">
                <div class="feature-card">
                    <h4><span class="badge badge-core">Core</span></h4>
                    <p>Low-level audio engine with direct platform API access. Perfect for custom audio pipelines and
                        maximum performance.</p>
                </div>
                <div class="feature-card">
                    <h4><span class="badge badge-net">NET</span></h4>
                    <p>High-level API with built-in mixing, effects, and multi-track support. Ideal for production
                        applications.</p>
                </div>
            </div>

            <h2 id="installation">Installation</h2>

            <h3>NuGet Package Manager</h3>
            <div class="code-block">
                <div class="code-header">Package Manager Console</div>
                <pre><code class="language-powershell"># For Core API
Install-Package OwnAudioSharp</code></pre>
            </div>

            <h3>.NET CLI</h3>
            <div class="code-block">
                <div class="code-header">Command Line</div>
                <pre><code class="language-bash"># For Core API
dotnet add package OwnAudioSharp</code></pre>
            </div>

            <h3>Requirements</h3>
            <ul>
                <li><strong>.NET 8.0</strong> or later</li>
                <li><strong>No external dependencies</strong> - uses system audio APIs</li>
                <li><strong>Cross-platform</strong> - Windows, macOS, Linux, IOS, Android</li>
            </ul>

            <h2 id="core-usage">Ownaudio.Core Usage</h2>

            <div class="alert alert-info">
                <strong>Core API</strong>
                Direct access to audio engine. Native engine (default) provides GC-free operation, or use managed
                engines for pure C# code.
            </div>

            <h3>Native Engine (Default - Recommended)</h3>
            <div class="code-block">
                <div class="code-header">NativeEngine.cs</div>
                <pre><code class="language-csharp">using Ownaudio.Core;

// Create NATIVE audio engine (DEFAULT - GC-free!)
using var engine = AudioEngineFactory.CreateDefault();
// Or explicitly: AudioEngineFactory.CreateNative();

// Native engine runs outside GC - no audio glitches!
engine.Initialize(AudioConfig.Default);
engine.Start();</code></pre>
            </div>

            <h3>Managed Engine (Optional - Pure C#)</h3>
            <div class="code-block">
                <div class="code-header">ManagedEngine.cs</div>
                <pre><code class="language-csharp">using Ownaudio.Core;

// Create MANAGED audio engine (pure C#)
// Note: May experience GC-related audio glitches
using var engine = AudioEngineFactory.CreateManaged();

// Or create platform-specific managed engine:
#if WINDOWS
    using var engine = new WasapiEngine();
#elif LINUX
    using var engine = new PulseAudioEngine();
#elif MACOS
    using var engine = new CoreAudioEngine();
#endif

engine.Initialize(AudioConfig.Default);
engine.Start();</code></pre>
            </div>

            <h3>Basic Playback</h3>
            <div class="code-block">
                <div class="code-header">BasicPlayback.cs</div>
                <pre><code class="language-csharp">using Ownaudio.Core;
using Ownaudio.Decoders;

// Create audio engine with default settings (48kHz, stereo, 512 frames)
using var engine = AudioEngineFactory.CreateDefault();

// Initialize and start the engine
engine.Initialize(AudioConfig.Default);
engine.Start();

// Create decoder for audio file
using var decoder = AudioDecoderFactory.Create(
    "music.mp3",
    targetSampleRate: 48000,
    targetChannels: 2
);

// Decode and play frames
while (true)
{
    var result = decoder.DecodeNextFrame();
    if (result.IsEOF) break;
    
    // Send samples to engine (zero-allocation)
    engine.Send(result.Frame.Samples);
}

// Stop the engine
engine.Stop();</code></pre>
            </div>

            <h3>Custom Configuration</h3>
            <div class="code-block">
                <div class="code-header">CustomConfig.cs</div>
                <pre><code class="language-csharp">// Create custom audio configuration
var config = new AudioConfig
{
    SampleRate = 44100,
    Channels = 2,
    BufferSize = 256,        // Low latency
    EnableOutput = true,
    EnableInput = false
};

// Create engine with custom config
using var engine = AudioEngineFactory.Create(config);
engine.Initialize(config);
engine.Start();

// Use the engine...
engine.Stop();</code></pre>
            </div>

            <h3>Device Management</h3>
            <div class="code-block">
                <div class="code-header">DeviceManagement.cs</div>
                <pre><code class="language-csharp">using var engine = AudioEngineFactory.CreateDefault();
engine.Initialize(AudioConfig.Default);

// List available output devices
var devices = engine.GetOutputDevices();
foreach (var device in devices)
{
    Console.WriteLine($"{device.Name} - {(device.IsDefault ? "Default" : "")}");
}

// Switch to specific device
engine.Stop();
engine.SetOutputDeviceByName("Speakers (Realtek Audio)");
engine.Start();

// Handle device change events
engine.OutputDeviceChanged += (sender, e) =>
{
    Console.WriteLine($"Output device changed: {e.DeviceName}");
};</code></pre>
            </div>

            <h3>Recording Audio</h3>
            <div class="code-block">
                <div class="code-header">Recording.cs</div>
                <pre><code class="language-csharp">// Enable input in configuration
var config = new AudioConfig
{
    SampleRate = 48000,
    Channels = 2,
    BufferSize = 512,
    EnableInput = true,
    EnableOutput = false
};

using var engine = AudioEngineFactory.Create(config);
engine.Initialize(config);
engine.Start();

// Receive audio samples from input
var buffer = new float[config.BufferSize * config.Channels];
int samplesReceived = engine.Receives(out buffer);

if (samplesReceived > 0)
{
    // Process received audio samples
    ProcessAudioInput(buffer, samplesReceived);
}

engine.Stop();</code></pre>
            </div>

            <h2 id="net-usage">OwnaudioNET Usage</h2>

            <div class="alert alert-info">
                <strong>NET API</strong>
                High-level API with professional features for production-ready applications.
            </div>

            <div class="alert alert-warning">
                <strong>‚ö†Ô∏è IMPORTANT FOR UI APPLICATIONS</strong>
                When building desktop (WPF, WinForms, MAUI, Avalonia) or mobile applications,
                ALWAYS use the async API methods to prevent UI thread blocking:
                <ul>
                    <li><code>InitializeAsync()</code> instead of <code>Initialize()</code></li>
                    <li><code>StopAsync()</code> instead of <code>Stop()</code></li>
                    <li><code>ShutdownAsync()</code> instead of <code>Shutdown()</code></li>
                </ul>
                This prevents your application from freezing during audio initialization (50-5000ms) and shutdown (up to
                2 seconds).
            </div>

            <h3>Basic Playback (Console Applications)</h3>
            <div class="code-block">
                <div class="code-header">BasicPlayback.cs</div>
                <pre><code class="language-csharp">using OwnaudioNET;
using OwnaudioNET.Sources;

// Initialize OwnaudioNET (synchronous - OK for console apps)
OwnaudioNet.Initialize();

// Create file source
var source = new FileSource("music.mp3");

// Create mixer and add source
var mixer = new AudioMixer(OwnaudioNet.Engine);
mixer.AddSource(source);
mixer.Start();

// Play the source
source.Play();

// Wait for playback to finish
while (!source.IsEndOfStream)
{
    Thread.Sleep(100);
}

// Clean up
mixer.Stop();
mixer.Dispose();
source.Dispose();
OwnaudioNet.Shutdown();</code></pre>
            </div>

            <h3>UI Application Playback (WPF/MAUI/Avalonia) ‚≠ê RECOMMENDED</h3>
            <div class="code-block">
                <div class="code-header">UIApplication.cs</div>
                <pre><code class="language-csharp">using OwnaudioNET;
using OwnaudioNET.Sources;

public class AudioPlayerViewModel
{
    private AudioMixer? _mixer;
    private FileSource? _source;

    // Initialize asynchronously (UI remains responsive!)
    public async Task InitializeAsync()
    {
        // ‚úÖ Async initialization prevents UI freezing
        await OwnaudioNet.InitializeAsync();

        _mixer = new AudioMixer(OwnaudioNet.Engine);
        _mixer.Start();
    }

    // Play audio file
    public void Play(string filePath)
    {
        _source?.Dispose();
        _source = new FileSource(filePath);

        _mixer?.AddSource(_source);
        _source.Play();
    }

    // Stop playback
    public void Stop()
    {
        _source?.Stop();
    }

    // Shutdown asynchronously (UI remains responsive!)
    public async Task ShutdownAsync()
    {
        _source?.Dispose();

        _mixer?.Stop();
        _mixer?.Dispose();

        // ‚úÖ Async shutdown prevents UI freezing
        await OwnaudioNet.ShutdownAsync();
    }
}

// Usage in UI event handler (e.g., WPF Button Click)
private async void InitButton_Click(object sender, RoutedEventArgs e)
{
    InitButton.IsEnabled = false;
    StatusText.Text = "Initializing audio...";

    try
    {
        await _audioPlayer.InitializeAsync(); // UI stays responsive!
        StatusText.Text = "Audio system ready!";
        PlayButton.IsEnabled = true;
    }
    catch (Exception ex)
    {
        StatusText.Text = $"Error: {ex.Message}";
    }
    finally
    {
        InitButton.IsEnabled = true;
    }
}</code></pre>
            </div>

            <h3>Volume Control and Seeking</h3>
            <div class="code-block">
                <div class="code-header">VolumeControl.cs</div>
                <pre><code class="language-csharp">var source = new FileSource("music.mp3");

// Volume control (0.0 - 1.0)
source.Volume = 0.8f;

// Seek to position (in seconds)
source.Seek(30.0);

// Loop playback
source.Loop = true;

// Check playback state
if (source.State == AudioState.Playing)
{
    Console.WriteLine($"Position: {source.Position:F2}s / {source.Duration:F2}s");
}</code></pre>
            </div>

            <h3>Multiple Sources (Multi-Track)</h3>
            <div class="code-block">
                <div class="code-header">MultiTrack.cs</div>
                <pre><code class="language-csharp">OwnaudioNet.Initialize();

var mixer = new AudioMixer(OwnaudioNet.Engine);
mixer.Start();

// Add multiple sources
var drums = new FileSource("drums.wav");
var bass = new FileSource("bass.wav");
var guitar = new FileSource("guitar.wav");

mixer.AddSource(drums);
mixer.AddSource(bass);
mixer.AddSource(guitar);

// Control individual volumes
drums.Volume = 0.8f;
bass.Volume = 0.7f;
guitar.Volume = 0.6f;

// Play all sources
drums.Play();
bass.Play();
guitar.Play();

// Master volume control
mixer.MasterVolume = 0.9f;</code></pre>
            </div>

            <h3>Synchronized Playback (Master Clock)</h3>
            <div class="code-block">
                <div class="code-header">SyncPlayback.cs - New Master Clock API (v2.1.0+)</div>
                <pre><code class="language-csharp">var drums = new FileSource("drums.wav");
var bass = new FileSource("bass.wav");
var guitar = new FileSource("guitar.wav");

mixer.AddSource(drums);
mixer.AddSource(bass);
mixer.AddSource(guitar);

// Attach sources to Master Clock for sample-accurate sync
drums.AttachToClock(mixer.MasterClock);
bass.AttachToClock(mixer.MasterClock);
guitar.AttachToClock(mixer.MasterClock);

// Optional: Set start offsets on timeline
guitar.StartOffset = 2.0;  // Guitar starts 2 seconds later

// Start mixer
mixer.Start();

// Start all sources for playback
drums.Play();
bass.Play();
guitar.Play();

// All sources now play in perfect sync with Master Clock

// Timeline control
mixer.MasterClock.SeekTo(10.0);  // Seek all tracks to 10 seconds</code></pre>
            </div>

            <div class="alert alert-info">
                <strong>Master Clock Benefits</strong>
                The new timeline-based system provides sample-accurate synchronization, start offsets for DAW-style
                track positioning,
                automatic drift correction (&lt;10ms tolerance), and realtime/offline rendering modes.
            </div>

            <h3>Audio Effects</h3>
            <div class="code-block">
                <div class="code-header">Effects.cs</div>
                <pre><code class="language-csharp">using OwnaudioNET.Effects;

var source = new FileSource("guitar.wav");

// Create effects
var reverb = new ReverbEffect
{
    Mix = 0.3f,
    RoomSize = 0.7f,
    Damping = 0.5f
};

var compressor = new CompressorEffect(
    threshold: 0.5f,       // 0.5 = -6dB threshold
    ratio: 4.0f,
    attackTime: 10.0f,
    releaseTime: 100.0f,
    sampleRate: 48000f
);

// Apply effects to source
var sourceWithEffects = new SourceWithEffects(source, reverb, compressor);

mixer.AddSource(sourceWithEffects);
sourceWithEffects.Play();

// Master effects (applied to final mix)
var limiter = new LimiterEffect(sampleRate: 48000f, threshold: -0.5f);
mixer.AddMasterEffect(limiter);</code></pre>
            </div>

            <h3>Tempo and Pitch Control</h3>
            <div class="code-block">
                <div class="code-header">TempoAndPitch.cs</div>
                <pre><code class="language-csharp">var source = new FileSource("vocal.wav");

// Change tempo (speed) without affecting pitch
source.Tempo = 1.2f;  // 20% faster

// Change pitch without affecting tempo
source.PitchShift = -2.0f;  // 2 semitones lower

// Both can be used together
source.Tempo = 0.9f;      // 10% slower
source.PitchShift = 3.0f;  // 3 semitones higher</code></pre>
            </div>

            <h3>Recording</h3>
            <div class="code-block">
                <div class="code-header">Recording.cs</div>
                <pre><code class="language-csharp">var config = new AudioConfig
{
    SampleRate = 48000,
    Channels = 2,
    BufferSize = 512
};

OwnaudioNet.Initialize(config);

var mixer = new AudioMixer(OwnaudioNet.Engine);
mixer.Start();

// Start recording output to file
mixer.StartRecording("output.wav");

// ... play sources ...

// Stop recording
mixer.StopRecording();</code></pre>
            </div>

            <h2 id="platform-setup">Platform-Specific Setup</h2>

            <div class="alert alert-success">
                <strong>No Setup Required!</strong>
                Ownaudio automatically detects your platform and uses the appropriate native audio API.
            </div>

            <h3>Supported Platforms</h3>
            <div class="feature-grid">
                <div class="feature-card">
                    <h4>Windows</h4>
                    <p><strong>WASAPI</strong> - Windows Audio Session API for low-latency audio</p>
                </div>
                <div class="feature-card">
                    <h4>macOS</h4>
                    <p><strong>Core Audio</strong> - Native macOS audio framework</p>
                </div>
                <div class="feature-card">
                    <h4>Linux</h4>
                    <p><strong>PulseAudio</strong> - Standard Linux audio server</p>
                </div>
                <div class="feature-card">
                    <h4>iOS</h4>
                    <p><strong>Core Audio</strong> - Native iOS audio framework</p>
                </div>
                <div class="feature-card">
                    <h4>Android</h4>
                    <p><strong>AAudio</strong> - Modern Android audio API</p>
                </div>
            </div>

            <h3>Platform Detection</h3>
            <div class="code-block">
                <div class="code-header">PlatformInfo.cs</div>
                <pre><code class="language-csharp">// Get platform information
string platformInfo = AudioEngineFactory.GetPlatformInfo();
Console.WriteLine($"Platform: {platformInfo}");

// Output examples:
// "Windows-WASAPI"
// "macOS-CoreAudio"
// "Linux-PulseAudio"
// "iOS-CoreAudio"
// "Android-AAudio"</code></pre>
            </div>

            <h2 id="next-steps">Next Steps</h2>

            <div class="feature-grid">
                <div class="feature-card">
                    <h4>üìö CORE API Reference</h4>
                    <p>Low-level cross-platform audio engine.</p>
                    <a href="api-core.html" style="color: var(--primary-color);">View CORE Docs ‚Üí</a>
                </div>
                <div class="feature-card">
                    <h4>üìö NET API Reference</h4>
                    <p>High-level audio API with professional features.</p>
                    <a href="api-net.html" style="color: var(--primary-color);">View NET Docs ‚Üí</a>
                </div>
                <div class="feature-card">
                    <h4>üéõÔ∏è Examples</h4>
                    <p>Discover all available audio effects and how to use them effectively.</p>
                    <a href="examples.html" style="color: var(--primary-color);">Browse example ‚Üí</a>
                </div>
            </div>

            <!--<div class="alert alert-info">
                <strong>Need Help?</strong>
                Check out our <a href="https://github.com/ModernMube/OwnAudioSharp" target="_blank" style="color: var(--primary-color);">GitHub repository</a> for issues, discussions, and community support.
            </div>-->
        </main>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script
        src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script>
        // Active sidebar navigation
        const sections = document.querySelectorAll('h2[id]');
        const navLinks = document.querySelectorAll('.sidebar-nav a');

        window.addEventListener('scroll', () => {
            let current = '';
            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                const sectionHeight = section.clientHeight;
                if (window.pageYOffset >= sectionTop - 150) {
                    current = section.getAttribute('id');
                }
            });

            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === `#${current}`) {
                    link.classList.add('active');
                }
            });
        });

        // Smooth scrolling
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });
    </script>
</body>

</html>